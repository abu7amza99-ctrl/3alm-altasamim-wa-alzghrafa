<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>عالم التصاميم والزخرفة</title>

  <!-- ستايل التطبيق -->
  <link rel="stylesheet" href="style.css" />

  <!-- Tesseract.js للـ OCR (يعمل أونلاين/أوفلاين في المتصفح) -->
  <script src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
</head>
<body>

  <!-- خلفية رئيسية (تأخذ الصورة من assets/bg.png) -->
  <div id="app-bg" class="app-bg" style="background-image:url('assets/bg.png')"></div>

  <!-- شاشة الترحيب على طريقة أبو حمزة (شفافية 20%) -->
  <div id="welcomeModal" class="modal welcome-modal" aria-hidden="false">
    <div class="welcome-box">
      <h1>أهلاً بك في عالم التصاميم والزخرفة</h1>
      <p class="welcome-sub">تطبيق احترافي للزخرفة والاسماء والقوالب — جاهز للاستخدام</p>
      <button id="startAppBtn" class="btn primary">ابدأ الآن</button>
    </div>
  </div>

  <!-- شريط علوي -->
  <header class="topbar" style="background-image:url('assets/shbg.png')">
    <div class="topbar-left">
      <button id="controlBtn" class="icon-btn" title="لوحة التحكم">
        <img src="assets/sitting.png" alt="لوحة التحكم" />
      </button>
    </div>

    <div class="topbar-center">
      <img class="app-logo" src="assets/abu7amza.png" alt="logo" />
      <div class="app-title">عالم التصاميم والزخرفة</div>
    </div>

    <div class="topbar-right">
      <button id="sectionsToggle" class="icon-btn" title="قائمة الأقسام">
        <img src="assets/yhbg.png" alt="قائمة الأقسام" />
      </button>
    </div>
  </header>

  <!-- قائمة أقسام جانبية -->
  <aside id="sideNav" class="side-nav hidden">
    <button id="closeSide" class="close-side">✕</button>
    <ul class="side-list">
      <li class="side-item active" data-section="home">الصفحة الرئيسية</li>
      <li class="side-item" data-section="fontDeco">زخرفة الخطوط</li>
      <li class="side-item" data-section="nameDeco">زخرفة الأسماء</li>
      <li class="side-item" data-section="about">لمحة عن التطبيق</li>
      <li class="side-item" data-section="contact">اتصل بنا</li>
    </ul>
  </aside>

  <!-- المحتوى الرئيسي (كل قسم صفحة منفصلة داخل main) -->
  <main class="main-content">

    <!-- --- القسم 1: الصفحة الرئيسية (بوت التصاميم الاحترافي) -->
    <section id="home" class="page active">
      <div class="panel">
        <div class="search-row">
          <input id="fileSearch" class="input" placeholder="ابحث باسم الملف أو اسم الصورة..." />
          <button id="searchBtn" class="btn">ابحث</button>
          <button id="ocrBtn" class="btn">OCR للصورة</button>
        </div>

        <h3 class="section-title">النتائج</h3>
        <div id="resultsGrid" class="grid gallery-grid"></div>

        <h3 class="section-title">الصور المضافة (من لوحة التحكم)</h3>
        <div id="gallery" class="grid gallery-grid"></div>
      </div>
    </section>

    <!-- --- القسم 2: زخرفة الخطوط -->
    <section id="fontDeco" class="page">
      <div class="panel">
        <h3 class="section-title">زخرفة الخطوط</h3>

        <label>اكتب الاسم</label>
        <input id="fontNameInput" class="input" placeholder="أدخل الاسم" />

        <label>اختيار الخط</label>
        <select id="fontSelect" class="input"></select>

        <label>نوع التلوين</label>
        <div class="modes">
          <button class="mode-btn active" data-mode="solid">ثابت</button>
          <button class="mode-btn" data-mode="gradient">متدرج</button>
          <button class="mode-btn" data-mode="clothe">تلبيس</button>
        </div>

        <div id="solidPanel" class="color-panel">
          <label>لون ثابت</label>
          <input id="solidColor" type="color" value="#d4af37" />
        </div>

        <div id="gradientPanel" class="color-panel hidden">
          <label>اختر تدرج</label>
          <select id="gradientSelect" class="input"></select>
        </div>

        <div id="clothePanel" class="color-panel hidden">
          <label>اختر صورة للتلبيس</label>
          <select id="clotheSelect" class="input"></select>
        </div>

        <button id="generateFont" class="btn primary">توليد</button>

        <div id="fontPreview" class="preview-box"></div>
      </div>
    </section>

    <!-- --- القسم 3: زخرفة الأسماء -->
    <section id="nameDeco" class="page">
      <div class="panel">
        <h3 class="section-title">زخرفة الأسماء</h3>
        <label>اكتب الاسم</label>
        <input id="nameInput" class="input" placeholder="أدخل الاسم" />
        <button id="genNameStyles" class="btn primary">توليد الزخارف</button>

        <div id="nameResults" class="grid name-grid"></div>
      </div>
    </section>

    <!-- --- القسم 4: لمحة عن التطبيق -->
    <section id="about" class="page">
      <div class="panel">
        <h3 class="section-title">لمحة عن التطبيق</h3>
        <div id="aboutText" class="gold-card">هذا نص تعريفي افتراضي. يمكن تعديله من لوحة التحكم.</div>
      </div>
    </section>

    <!-- --- القسم 5: اتصل بنا -->
    <section id="contact" class="page">
      <div class="panel">
        <h3 class="section-title">اتصل بنا</h3>
        <div id="contactPanel" class="gold-card">
          <div id="contactText">نص للتواصل يمكن تعديله من لوحة التحكم.</div>
          <div id="contactLinks" class="contact-links"></div>
        </div>
      </div>
    </section>

  </main>

  <!-- نافذة لوحة التحكم (مودال) -->
  <div id="controlModal" class="modal hidden" aria-hidden="true">
    <div class="control-inner gold-modal">
      <button id="closeControl" class="modal-close">✕</button>

      <!-- شاشة الدخول (كلمة المرور) -->
      <div id="controlAuth">
        <h3>دخول لوحة التحكم</h3>
        <label>كلمة المرور</label>
        <input id="adminPass" type="password" class="input" placeholder="ادخل كلمة المرور" />
        <button id="adminLogin" class="btn primary">دخول</button>
      </div>

      <!-- محتوى لوحة التحكم (يظهر بعد تسجيل الدخول) -->
      <div id="controlArea" class="hidden">
        <h3>لوحة التحكم</h3>

        <section class="control-section">
          <h4>مظهر التطبيق</h4>
          <label>اللون الرئيسي</label>
          <input id="primaryColor" type="color" value="#d4af37" />
          <label>رفع خطوط (ttf,otf,woff)</label>
          <input id="uploadFonts" type="file" accept=".ttf,.otf,.woff,.woff2" multiple />
        </section>

        <section class="control-section">
          <h4>إدارة الصور</h4>
          <label>رفع صور لعرض الصفحة الرئيسية (يمكن رفع أكثر من 10 دفعة واحدة)</label>
          <input id="uploadImages" type="file" accept="image/*" multiple />
          <label>رفع صور تلبيس (clothes)</label>
          <input id="uploadClothes" type="file" accept="image/*" multiple />
        </section>

        <section class="control-section">
          <h4>ستايلات زخرفة الأسماء</h4>
          <label>رفع ملفات ستايل (.json أو .js)</label>
          <input id="uploadStyles" type="file" accept=".json,.js" multiple />
        </section>

        <section class="control-section">
          <h4>تعديل المحتوى النصي</h4>
          <label>نص لمحة عن التطبيق</label>
          <textarea id="aboutEditor" rows="3"></textarea>
          <label>نص اتصل بنا</label>
          <textarea id="contactEditor" rows="3"></textarea>

          <label>أضف صورة + رابط لقسم اتصل بنا</label>
          <input id="contactImageFile" type="file" accept="image/*" />
          <input id="contactImageLink" class="input" placeholder="ضع الرابط هنا" />
          <button id="addContactImage" class="btn">أضف</button>
        </section>

        <div class="control-actions">
          <button id="saveControl" class="btn primary">حفظ التغييرات</button>
          <button id="logoutBtn" class="btn">خروج</button>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer-note">مناسب لعرض الجوال • تم التصميم بالألوان الذهبي والأبيض الناعم</footer>

  <!-- سكربت التطبيق (قسمين) -->
  <script src="script-part1.js"></script>
  <script src="script-part2.js"></script>
</body>
</html>